## Overview

This repo currently is a combination of the code-generation tooling for
building the az-ts tool from the az cli docs, and the resulting export.

## Usage

From within the root of the repo:

```sh
./az-ts --build-meta
```

updates the internal data types used by the code-gen tool when parsing the
cli docs yaml definitions... its kind-of meta. If there are breaking changes
as a result of this, we might have issues with the next command.

```sh
./az-ts --build
```

builds the main az-ts tool from a bunch of yaml definitions gathered from
the az cli docs repo. Will generate empty type responses for any new cli commands.

```sh
./az-ts --build-datatypes
```

pulls down all the type definitions from the usage reporting - compiles them and
updates the command responses.

```sh
npm run export
```

compiles the typescript code from the /src folder into javascript + .d.ts files,
and puts the result into the /exported folder.

```sh
cd ./exported && npm publish
```

published the newly generated az-ts tool to npm.. be sure to version bump first!

## Directory overview

```sh
/docs # you are here
  ...
/exported # the thing that gets published to npm
  ...
/src # the code used to build the thing that gets published.
  /commands # code used internally to build az-ts
    /gen # types generated by `./az-ts --build-meta`
    /utils
    ...
  /gen
    /src # the results of `./az-ts --build`
      /models # the results of `./az-ts --build-datatypes`
    ...
```
